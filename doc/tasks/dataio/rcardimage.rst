.. _rcardimage:

rcardimage: Convert a cardimage file into a text file
=====================================================

**Package: dataio**

.. raw:: html

  <h3>Usage</h3>
  <!-- BeginSection: 'USAGE' -->
  <p>
  rcardimage cardfile file_list textfile
  </p>
  <!-- EndSection:   'USAGE' -->
  <h3>Parameters</h3>
  <!-- BeginSection: 'PARAMETERS' -->
  <dl>
  <dt><b>cardfile</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='cardfile' Line='cardfile' -->
  <dd>The cardimage source file. Cardfile may be either a template specifying a
  list of disk files, e.g. card* or a mag tape file specification of the
  form mtl*[n], where mt stands for mag tape, l stands for a specific drive,
  * stands for the density and [n] is the tape file number. If no tape file
  number is specified then the tape file numbers are taken from the
  file_list parameter.
  </dd>
  </dl>
  <dl>
  <dt><b>file_list</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='file_list' Line='file_list' -->
  <dd>A list of tape file
  numbers or ranges delimited by commas,  for example
  <span style="font-family: monospace;">"1,3,5-8"</span>, which is used only if the magtape device is specified.
  Files will be read in ascending order, regardless of
  the ordering of the list.  Reading will terminate silently if EOT
  is reached, thus a list such as <span style="font-family: monospace;">"1-999"</span> may be used to read all
  files on a tape.
  </dd>
  </dl>
  <dl>
  <dt><b>textfile</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='textfile' Line='textfile' -->
  <dd>Name of the output file.  If multiple input files, multiple output
  files will be generated by concatenating the tape file number or
  disk sequence number onto the textfile string.
  </dd>
  </dl>
  <dl>
  <dt><b>card_length = 80</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='card_length' Line='card_length = 80' -->
  <dd>The number of columns per card in the input card image file.
  Must be divisible by the number of bytes per <span style="font-family: monospace;">"IRAF character"</span> (2 on most
  machines). The task reblock can be used to pad files with odd-sized
  cards.
  </dd>
  </dl>
  <dl>
  <dt><b>max_line_length = 161</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='max_line_length' Line='max_line_length = 161' -->
  <dd>The maximum line length to be generated. Default is maximum size
  of a line permitted by IRAF.
  Useful for stripping columns 73-80 from Fortran card image files.
  </dd>
  </dl>
  <dl>
  <dt><b>entab = yes</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='entab' Line='entab = yes' -->
  <dd>Replace blanks with tabs and blanks. Tabsize is 8.
  </dd>
  </dl>
  <dl>
  <dt><b>join = no</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='join' Line='join = no' -->
  <dd>Rejoin oversize lines.
  </dd>
  </dl>
  <dl>
  <dt><b>contn_string = <span style="font-family: monospace;">"&gt;&gt;"</span></b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='contn_string' Line='contn_string = "&gt;&gt;"' -->
  <dd>Marker to enable program to recognize oversize lines.
  </dd>
  </dl>
  <dl>
  <dt><b>trim = yes</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='trim' Line='trim = yes' -->
  <dd>Trim trailing whitespace from each line.
  </dd>
  </dl>
  <dl>
  <dt><b>verbose = yes</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='verbose' Line='verbose = yes' -->
  <dd>Output messages listing files created, number of cards
  processed, etc.
  </dd>
  </dl>
  <dl>
  <dt><b>ebcdic = no</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='ebcdic' Line='ebcdic = no' -->
  <dd>Translate from ebcdic to ascii.
  </dd>
  </dl>
  <dl>
  <dt><b>ibm = no</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='ibm' Line='ibm = no' -->
  <dd>Translate from ibm ebcdic to ascii.
  </dd>
  </dl>
  <dl>
  <dt><b>offset = 0</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='offset' Line='offset = 0' -->
  <dd>Integer parameter specifying the tape file number offset. For example if
  offset = 100, card_file = <span style="font-family: monospace;">"card"</span> and file_list = <span style="font-family: monospace;">"1-3"</span>, the output file
  names will be <span style="font-family: monospace;">"card101"</span>, <span style="font-family: monospace;">"card102"</span> and <span style="font-family: monospace;">"card103"</span> respectively, instead of
  <span style="font-family: monospace;">"card001"</span>, <span style="font-family: monospace;">"card002"</span> and <span style="font-family: monospace;">"card003"</span>.
  </dd>
  </dl>
  <!-- EndSection:   'PARAMETERS' -->
  <h3>Description</h3>
  <!-- BeginSection: 'DESCRIPTION' -->
  <p>
  Multiple cardimage files are read from disk or tape.
  If only the magtape device is specified,
  a list of file numbers is requested.  In the latter case, output files
  have the form root_filename // tape(disk)_file_number.  By default, trailing
  whitespace is trimmed from each line.
  </p>
  <!-- EndSection:   'DESCRIPTION' -->
  <h3>Examples</h3>
  <!-- BeginSection: 'EXAMPLES' -->
  <p>
  1. Convert a set of ASCII cardimage files on magnetic tape to IRAF text files,
  replacing blanks with tabs and blanks, and trimming whitespace from
  the ends of lines.
  </p>
  <p>
  	cl&gt; rcardimage mtb1600 1-999 textfiles
  </p>
  <p>
  2. Convert a set of ASCII cardimage files on disk to IRAF test files.
  </p>
  <p>
  	cl&gt; rcard card* 1 textfiles
  </p>
  <p>
  3. Convert a set of EBCDIC cardimage files on magnetic tape to IRAF text files,
  trimming whitespace from the ends of lines but leaving embedded blanks
  unchanged.
  </p>
  <p>
  	cl&gt; rcardimage mtb1600 1-999 textfile en- ebc+
  </p>
  <p>
  4. Convert  an odd-blocked (81 bytes per card) rcardimage file on tape to an
  IRAF text file by using reblock to write the file to disk and pad the cards
  with blanks, followed by rcardimage to convert the file to an IRAF textfile.
  </p>
  <p>
  	cl&gt; reblock mta[1] cardimage inrecord=81 outrecord=82 \<br>
  	    padchar=<span style="font-family: monospace;">" "</span>
  </p>
  <p>
  	cl&gt; rcardimage cardimage 1 textfile card_length=82
  </p>
  <!-- EndSection:   'EXAMPLES' -->
  <h3>Bugs</h3>
  <!-- BeginSection: 'BUGS' -->
  <p>
  Due to portability considerations The card length in bytes must fill an
  integral number of IRAF characters.  On most machines this means that the
  length of the card must be an even number of bytes .  The task should be
  generalized to require only that the tape record length be specified
  to read odd blocked card image files.
  </p>
  <p>
  The size of the output text file lines is currently restricted to 161
  or fewer characters.
  </p>
  <!-- EndSection:   'BUGS' -->
  <h3>See also</h3>
  <!-- BeginSection: 'SEE ALSO' -->
  <p>
  wcardimage
  </p>
  
  <!-- EndSection:    'SEE ALSO' -->
  
  <!-- Contents: 'NAME' 'USAGE' 'PARAMETERS' 'DESCRIPTION' 'EXAMPLES' 'BUGS' 'SEE ALSO'  -->
  
